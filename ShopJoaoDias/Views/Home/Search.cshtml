@model FrontCategoryViewModel

@{
}

@if (Model != null && Model.CategoryProduct.ProductList.Count() > 0)
{
    <div class="app-content">

        <!--====== Section 1 ======-->
        <div class="u-s-p-y-90">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="shop-p">
                            <div class="shop-p__toolbar u-s-m-b-30">
                                <div class="shop-p__meta-wrap u-s-m-b-60">
                                    <span class="shop-p__meta-text-1">FOUND @Model.CategoryProduct.ProductList.Count() RESULTS</span>
                                </div>
                                <div class="shop-p__tool-style">
                                    <div class="tool-style__group u-s-m-b-8">

                                        <span class="js-shop-filter-target" data-side="#side-filter">Filters</span>

                                        <span class="js-shop-grid-target">Grid</span>

                                        <span class="js-shop-list-target is-active">List</span>
                                    </div>
                                    <form id="sortPager">
                                        <div class="tool-style__form-wrap">
                                            <div class="u-s-m-b-8">
                                                <select id="perPage" class="select-box select-box--transparent-b-2" onchange="sorted();">
                                                    <option value="8">Show: 8</option>
                                                    <option value="12" selected>Show: 12</option>
                                                    <option value="16">Show: 16</option>
                                                    <option value="28">Show: 28</option>
                                                </select>
                                            </div>
                                            <div class="u-s-m-b-8">
                                                <select id="sort" class="select-box select-box--transparent-b-2" onchange="sorted();">
                                                    <option value="1" selected>Sort By: Newest Items</option>
                                                    <option value="2">Sort By: Latest Items</option>
                                                    <option value="3">Sort By: Best Selling</option>
                                                    <option value="4">Sort By: Best Rating</option>
                                                </select>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="shop-p__collection">
                                <div class="row is-list-active">
                                    @foreach (var product in Model.CategoryProduct.ProductList)
                                    {
                                        <div class="col-lg-3 col-md-4 col-sm-6">
                                            <div class="product-m">
                                                <div class="product-m__thumb">

                                                    <a class="aspect aspect--bg-grey aspect--square u-d-block" href="/@product.Id/@product.Easyurl">

                                                        <img class="aspect__img" src="@product.Image" alt="Product Image">
                                                    </a>
                                                    <div class="product-m__quick-look">
                                                        <a class="fas fa-search" data-modal="modal" data-modal-id="#quick-look" data-tooltip="tooltip" data-placement="top" title="Quick Look"></a>
                                                    </div>
                                                    <div class="product-m__add-cart">
                                                        <form class="pd-detail__form" asp-area="Member" asp-controller="Basket" asp-action="AddBasket" method="post">
                                                            <input type="hidden" value="@product.Id" name="productId" />
                                                            <div class="pd-detail-inline-2">
                                                                <div class="u-s-m-b-15">

                                                                    <!--====== Input Counter ======-->
                                                                    <div class="input-counter">

                                                                        <span class="input-counter__minus fas fa-minus"></span>

                                                                        <input class="input-counter__text input-counter--text-primary-style" type="text" value="1" data-min="1" data-max="1000" name="piece">

                                                                        <span class="input-counter__plus fas fa-plus"></span>
                                                                    </div>
                                                                    <!--====== End - Input Counter ======-->
                                                                </div>
                                                                <div class="u-s-m-b-15">

                                                                    <button class="btn btn--e-brand-b-2" type="submit">Add to Cart</button>
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                                <div class="product-m__content">
                                                    <div class="product-m__category">
                                                        <a href="shop-side-version-2.html">@product.Category.Name</a>
                                                    </div>
                                                    <div class="product-m__name">

                                                        <a href="/@product.Id/@product.Easyurl">@product.Name</a>
                                                    </div>
                                                    <div class="product-m__rating gl-rating-style">
                                                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i><i class="far fa-star"></i><i class="far fa-star"></i>

                                                        <span class="product-m__review">(23)</span>
                                                    </div>
                                                    <div class="product-m__price">$@product.Price</div>
                                                    <div class="product-m__hover">
                                                        <div class="product-m__preview-description">
                                                            <span>@product.Description</span>
                                                        </div>
                                                        <div class="product-m__wishlist">
                                                            <a class="far fa-heart" href="#" data-tooltip="tooltip" data-placement="top" title="Add to Wishlist"></a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                </div>
                            </div>
                            <div class="u-s-p-y-60">

                                <!--====== Pagination ======-->
                            @Html.Raw(Model.CategoryProduct.Html)
                                <!--====== End - Pagination ======-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--====== End - Section 1 ======-->
    </div>
}
else
{
    <div class="app-content">

        <!--====== Section 1 ======-->
        <div class="u-s-p-y-60">

            <!--====== Section Content ======-->
            <div class="section__content">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 u-s-m-b-30">
                            <div class="empty">
                                <div class="empty__wrap">

                                    <span class="empty__big-text">SORRY</span>

                                    <span class="empty__text-1">Your search, did not match any products. A partial match of your keywords is listed below.</span>

                                    <span class="empty__text-2">
                                        Related searches:

                                        <a href="shop-side-version-2.html">men's clothing</a>

                                        <a href="shop-side-version-2.html">mobiles & tablets</a>

                                        <a href="shop-side-version-2.html">books & audible</a>
                                    </span>
                                    <form class="empty__search-form" method="get" asp-controller="Home" asp-action="Search">

                                        <label for="search-label"></label>

                                        <input class="input-text input-text--primary-style" name="q" type="text" id="search-label" placeholder="Search Keywords">

                                        <button class="btn btn--icon fas fa-search" type="submit"></button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--====== End - Section Content ======-->
        </div>
        <!--====== End - Section 1 ======-->
    </div>
}

@section Scripts {
    <script type="text/javascript">

        function sorted() {
            var perPage = $('#perPage').val();
            var sort = $('#sort').val();
            var p = @(Model.Page);
            var q = '@(Model.SearchQuery)';
            window.location = "/Home/Search/?q=" + q + "&p=" + p + "&sort=" + sort + "&perPage" + perPage;
        }

    </script>
}